<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Play: Rock - Paper - Scissors</title>
</head>
<body>
    <script>
        let playChoice = "";
        let compChoice = "";
        function computerPlay() {
            compNum = Math.floor(Math.random() * 3);
            if (compNum === 0) {
                compChoice = "rock";  
            }
            else if (compNum === 1) {
                compChoice = "paper";  
            }
            else if (compNum === 2) {
                compChoice = "scissors";  
            }  
            console.log(`Computer's pick: ${compChoice}`)
        }
        function playerPlay() {
            let playPick = prompt("Rock, paper, or Scissors?").toLowerCase();
            if (playPick === "rock") {
                playChoice = "rock";
            } else if (playPick === "paper") {
                playChoice = "paper";
            } else if (playPick === "scissors") {
                playChoice = "scissors";
            } else {
                playerPlay();
            }
            console.log(`Player's pick: ${playChoice}`)
        }
        function oneRound() {
            let trackArr = [];
            playerPlay();
            computerPlay();
            if (compChoice === playChoice) {
                console.log("It's a tie!")
                trackArr.push(0);
            } else if (compChoice === "rock" && playChoice === "scissors") {
                console.log("Computer wins.")
                trackArr.push(-1);
            } else if (compChoice === "paper" && playChoice === "rock") {
                console.log("Computer wins.")
                trackArr.push(-1);
            } else if (compChoice === "scissors" && playChoice === "paper") {
                console.log("Computer wins.")
                trackArr.push(-1);
            } else {
                console.log('Players wins!')
                trackArr.push(1);
            }
            console.log(trackArr);   
        }
        function bestOfThree() {
            let trackArr = [];
            for (let i=0; i<3; i++) {
              playerPlay();
              computerPlay();
              if (compChoice === playChoice) {
                console.log("It's a tie!")
                trackArr.push(0);
              } else if (compChoice === "rock" && playChoice === "scissors") {
                console.log("Computer wins.")
                trackArr.push(-1);
              } else if (compChoice === "paper" && playChoice === "rock") {
                console.log("Computer wins.")
                trackArr.push(-1);
              } else if (compChoice === "scissors" && playChoice === "paper") {
                console.log("Computer wins.")
                trackArr.push(-1);
              } else {
                console.log('Players wins!')
                trackArr.push(1);
                }
              console.log(trackArr);   
           } if (trackArr.reduce((a, b) => a + b, 0) >= 3){
               console.log("The Player Wins!");
           } else if (trackArr.reduce((a, b) => a + b, 0) <= -3){
               console.log("Game Over.")
           } else if (trackArr.reduce((a, b) => a + b, 0) > -3 && trackArr.reduce((a, b) => a + b, 0) < 3) {
               oneRound();
           }

        }
        bestOfThree();
        

        
    </script>
</body>
</html>